{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\santo\\\\Desktop\\\\Web app\\\\Laundry-Scout\\\\Laundry Scout\\\\Laundry-Scout\\\\laundry_scout\\\\laundry-scout-admin\\\\src\\\\Components\\\\History.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { supabase } from \"../Supabase/supabaseClient\";\nimport \"../Style/History.css\";\nimport { FiMenu, FiSearch } from \"react-icons/fi\";\nimport { useNavigate } from \"react-router-dom\";\nimport Notifications from \"./Notifications\";\nimport Sidebar from \"./Sidebar\"; // âœ… shared sidebar\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction History() {\n  _s();\n  // ðŸ”¹ Data & States\n  const [records, setRecords] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [isSidebarOpen, setIsSidebarOpen] = useState(true);\n  const [search, setSearch] = useState(\"\");\n  const [searchHistory, setSearchHistory] = useState([]);\n  const [showHistory, setShowHistory] = useState(false);\n  const searchRef = useRef(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchHistory();\n  }, []);\n\n  // ðŸ”¹ Fetch only APPROVED + REJECTED records\n  const fetchHistory = async () => {\n    setLoading(true);\n    const {\n      data,\n      error\n    } = await supabase.from(\"business_profiles\").select(\"id,business_name,owner_first_name,owner_last_name,status,rejection_reason,created_at\").in(\"status\", [\"approved\", \"rejected\"]).order(\"created_at\", {\n      ascending: false\n    });\n    if (error) {\n      console.error(\"Error fetching history:\", error.message);\n    } else {\n      const transformed = (data || []).map(row => ({\n        id: row.id,\n        business_name: row.business_name,\n        owner_name: `${row.owner_first_name || \"\"} ${row.owner_last_name || \"\"}`.trim(),\n        action: row.status && row.status.toLowerCase() === \"approved\" ? \"Approval\" : row.status && row.status.toLowerCase() === \"rejected\" ? \"Rejection\" : \"-\",\n        status: row.status,\n        rejection_reason: row.rejection_reason,\n        created_at: row.created_at\n      }));\n      setRecords(transformed);\n    }\n    setLoading(false);\n  };\n\n  // ðŸ”¹ Save search into history\n  const handleKeyDown = e => {\n    if (e.key === \"Enter\" && search.trim() !== \"\") {\n      if (!searchHistory.includes(search)) {\n        setSearchHistory([search, ...searchHistory].slice(0, 5));\n      }\n      setShowHistory(false);\n    }\n  };\n  const deleteHistory = item => {\n    setSearchHistory(searchHistory.filter(h => h !== item));\n  };\n\n  // ðŸ”¹ Close history dropdown on outside click\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (searchRef.current && !searchRef.current.contains(event.target)) {\n        setShowHistory(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  // ðŸ”¹ Filter records by search\n  const filteredRecords = records.filter(rec => [rec.business_name, rec.owner_name, rec.action, rec.status].filter(Boolean).some(field => field.toLowerCase().includes(search.toLowerCase())));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-root\",\n    children: [/*#__PURE__*/_jsxDEV(Sidebar, {\n      isOpen: isSidebarOpen,\n      activePage: \"history\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: `dashboard-main ${isSidebarOpen ? \"\" : \"expanded\"}`,\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"History-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-left\",\n          children: [/*#__PURE__*/_jsxDEV(FiMenu, {\n            className: \"toggle-sidebar\",\n            onClick: () => setIsSidebarOpen(!isSidebarOpen)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"History-title\",\n              children: \"HISTORY\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"dashboard-date\",\n              children: \"Track all approval and rejection records\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Notifications, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"history-filters\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"filter-label\",\n            children: \"All Records\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"filter-count\",\n            children: filteredRecords.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-center\",\n          ref: searchRef,\n          children: [/*#__PURE__*/_jsxDEV(FiSearch, {\n            className: \"search-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search History\",\n            className: \"search-input\",\n            value: search,\n            onChange: e => setSearch(e.target.value),\n            onKeyDown: handleKeyDown,\n            onFocus: () => setShowHistory(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), showHistory && searchHistory.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"search-history\",\n            children: searchHistory.map((item, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => setSearch(item),\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: item\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"delete-history\",\n                onClick: e => {\n                  e.stopPropagation();\n                  deleteHistory(item);\n                },\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 21\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"date-btn\",\n            children: \"19 Dec - 20 Dec 2024\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"all-btn\",\n            children: \"All Transactions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"history-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"History-table-title\",\n          children: \"Application History\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Business\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Owner\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Reason\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: loading ? /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"6\",\n                children: \"Loading...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 17\n            }, this) : filteredRecords.length > 0 ? filteredRecords.map((rec, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: rec.business_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: rec.owner_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: rec.action || \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: `status ${rec.status}`,\n                children: [rec.status && rec.status.toLowerCase() === \"approved\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"green\",\n                    fontWeight: \"bold\"\n                  },\n                  children: \"\\u2714 Approved\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 25\n                }, this), rec.status && rec.status.toLowerCase() === \"rejected\" && /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: \"red\",\n                    fontWeight: \"bold\"\n                  },\n                  children: \"\\u2716 Rejected\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: rec.status && rec.status.toLowerCase() === \"rejected\" ? rec.rejection_reason || \"N/A\" : \"N/A\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"record-time\",\n                children: rec.created_at ? new Date(rec.created_at).toLocaleString() : \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 21\n              }, this)]\n            }, rec.id || idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 19\n            }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"6\",\n                children: \"No history records found.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n_s(History, \"Jr7p66j7UE0LxQfPlcgqjn30dbQ=\", false, function () {\n  return [useNavigate];\n});\n_c = History;\nexport default History;\nvar _c;\n$RefreshReg$(_c, \"History\");","map":{"version":3,"names":["React","useState","useEffect","useRef","supabase","FiMenu","FiSearch","useNavigate","Notifications","Sidebar","jsxDEV","_jsxDEV","History","_s","records","setRecords","loading","setLoading","isSidebarOpen","setIsSidebarOpen","search","setSearch","searchHistory","setSearchHistory","showHistory","setShowHistory","searchRef","navigate","fetchHistory","data","error","from","select","in","order","ascending","console","message","transformed","map","row","id","business_name","owner_name","owner_first_name","owner_last_name","trim","action","status","toLowerCase","rejection_reason","created_at","handleKeyDown","e","key","includes","slice","deleteHistory","item","filter","h","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","filteredRecords","rec","Boolean","some","field","className","children","isOpen","activePage","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","ref","type","placeholder","value","onChange","onKeyDown","onFocus","idx","stopPropagation","colSpan","style","color","fontWeight","Date","toLocaleString","_c","$RefreshReg$"],"sources":["C:/Users/santo/Desktop/Web app/Laundry-Scout/Laundry Scout/Laundry-Scout/laundry_scout/laundry-scout-admin/src/Components/History.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { supabase } from \"../Supabase/supabaseClient\";\r\nimport \"../Style/History.css\";\r\nimport { FiMenu, FiSearch } from \"react-icons/fi\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Notifications from \"./Notifications\";\r\nimport Sidebar from \"./Sidebar\"; // âœ… shared sidebar\r\n\r\nfunction History() {\r\n  // ðŸ”¹ Data & States\r\n  const [records, setRecords] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(true);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [searchHistory, setSearchHistory] = useState([]);\r\n  const [showHistory, setShowHistory] = useState(false);\r\n\r\n  const searchRef = useRef(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetchHistory();\r\n  }, []);\r\n\r\n  // ðŸ”¹ Fetch only APPROVED + REJECTED records\r\n  const fetchHistory = async () => {\r\n    setLoading(true);\r\n    const { data, error } = await supabase\r\n      .from(\"business_profiles\")\r\n      .select(\r\n        \"id,business_name,owner_first_name,owner_last_name,status,rejection_reason,created_at\"\r\n      )\r\n      .in(\"status\", [\"approved\", \"rejected\"])\r\n      .order(\"created_at\", { ascending: false });\r\n\r\n    if (error) {\r\n      console.error(\"Error fetching history:\", error.message);\r\n    } else {\r\n      const transformed = (data || []).map((row) => ({\r\n        id: row.id,\r\n        business_name: row.business_name,\r\n        owner_name: `${row.owner_first_name || \"\"} ${row.owner_last_name || \"\"}`.trim(),\r\n        action:\r\n          row.status && row.status.toLowerCase() === \"approved\"\r\n            ? \"Approval\"\r\n            : row.status && row.status.toLowerCase() === \"rejected\"\r\n            ? \"Rejection\"\r\n            : \"-\",\r\n        status: row.status,\r\n        rejection_reason: row.rejection_reason,\r\n        created_at: row.created_at,\r\n      }));\r\n      setRecords(transformed);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  // ðŸ”¹ Save search into history\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === \"Enter\" && search.trim() !== \"\") {\r\n      if (!searchHistory.includes(search)) {\r\n        setSearchHistory([search, ...searchHistory].slice(0, 5));\r\n      }\r\n      setShowHistory(false);\r\n    }\r\n  };\r\n\r\n  const deleteHistory = (item) => {\r\n    setSearchHistory(searchHistory.filter((h) => h !== item));\r\n  };\r\n\r\n  // ðŸ”¹ Close history dropdown on outside click\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (searchRef.current && !searchRef.current.contains(event.target)) {\r\n        setShowHistory(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  // ðŸ”¹ Filter records by search\r\n  const filteredRecords = records.filter((rec) =>\r\n    [rec.business_name, rec.owner_name, rec.action, rec.status]\r\n      .filter(Boolean)\r\n      .some((field) => field.toLowerCase().includes(search.toLowerCase()))\r\n  );\r\n\r\n  return (\r\n    <div className=\"dashboard-root\">\r\n      {/* âœ… Shared Sidebar */}\r\n      <Sidebar isOpen={isSidebarOpen} activePage=\"history\" />\r\n\r\n      {/* Main */}\r\n      <main className={`dashboard-main ${isSidebarOpen ? \"\" : \"expanded\"}`}>\r\n        {/* Header */}\r\n        <header className=\"History-header\">\r\n          <div className=\"header-left\">\r\n            <FiMenu\r\n              className=\"toggle-sidebar\"\r\n              onClick={() => setIsSidebarOpen(!isSidebarOpen)}\r\n            />\r\n            <div>\r\n              <h2 className=\"History-title\">HISTORY</h2>\r\n              <p className=\"dashboard-date\">\r\n                Track all approval and rejection records\r\n              </p>\r\n            </div>\r\n          </div>\r\n          {/* Notifications Component */}\r\n          <Notifications />\r\n        </header>\r\n\r\n        {/* Filters */}\r\n        <div className=\"history-filters\">\r\n          <div className=\"filter-left\">\r\n            <span className=\"filter-label\">All Records</span>\r\n            <span className=\"filter-count\">{filteredRecords.length}</span>\r\n          </div>\r\n\r\n          <div className=\"filter-center\" ref={searchRef}>\r\n            <FiSearch className=\"search-icon\" />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search History\"\r\n              className=\"search-input\"\r\n              value={search}\r\n              onChange={(e) => setSearch(e.target.value)}\r\n              onKeyDown={handleKeyDown}\r\n              onFocus={() => setShowHistory(true)}\r\n            />\r\n            {showHistory && searchHistory.length > 0 && (\r\n              <ul className=\"search-history\">\r\n                {searchHistory.map((item, idx) => (\r\n                  <li key={idx} onClick={() => setSearch(item)}>\r\n                    <span>{item}</span>\r\n                    <button\r\n                      className=\"delete-history\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        deleteHistory(item);\r\n                      }}\r\n                    >\r\n                      Ã—\r\n                    </button>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"filter-right\">\r\n            <button className=\"date-btn\">19 Dec - 20 Dec 2024</button>\r\n            <button className=\"all-btn\">All Transactions</button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Table */}\r\n        <div className=\"history-table\">\r\n          <h3 className=\"History-table-title\">Application History</h3>\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>Business</th>\r\n                <th>Owner</th>\r\n                <th>Action</th>\r\n                <th>Status</th>\r\n                <th>Reason</th>\r\n                <th>Time</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {loading ? (\r\n                <tr>\r\n                  <td colSpan=\"6\">Loading...</td>\r\n                </tr>\r\n              ) : filteredRecords.length > 0 ? (\r\n                filteredRecords.map((rec, idx) => (\r\n                  <tr key={rec.id || idx}>\r\n                    <td>{rec.business_name}</td>\r\n                    <td>{rec.owner_name}</td>\r\n                    <td>{rec.action || \"-\"}</td>\r\n                    <td className={`status ${rec.status}`}>\r\n                      {rec.status && rec.status.toLowerCase() === \"approved\" && (\r\n                        <span style={{ color: \"green\", fontWeight: \"bold\" }}>\r\n                          âœ” Approved\r\n                        </span>\r\n                      )}\r\n                      {rec.status && rec.status.toLowerCase() === \"rejected\" && (\r\n                        <span style={{ color: \"red\", fontWeight: \"bold\" }}>\r\n                          âœ– Rejected\r\n                        </span>\r\n                      )}\r\n                    </td>\r\n                    <td>\r\n                      {rec.status && rec.status.toLowerCase() === \"rejected\"\r\n                        ? rec.rejection_reason || \"N/A\"\r\n                        : \"N/A\"}\r\n                    </td>\r\n                    <td className=\"record-time\">\r\n                      {rec.created_at\r\n                        ? new Date(rec.created_at).toLocaleString()\r\n                        : \"\"}\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td colSpan=\"6\">No history records found.</td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default History;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}